\chapter*{Appendix} \label{chap:appendix}

\section{Subsequence Searching}

%TODO sort this out better

Using the arithmetico-geometric series formula
\[
	S_n = \frac{A_1G_1-A_{n+1}G_{n+1}}{1-r} +\frac{dr}{(1-r)^2}(G_1-G_{n+1})
\]
\label{app:cn}
\begin{align*}
	c_n &= O(n) + \sum_{k=1}^{n-1}3^{k-1}O(n-k)\\
	&= O(n) + \frac{O(n-1) - 0}{1-3} - \frac{3}{(1-3)^2}(1-3^{n-1})\\
	&= O(n) - \frac{O(n-1)}{2} +\frac{3}{4}(3^{n-1}-1)\\
	&= O(n) - \frac{O(n-1)}{2} + \frac{3^n}{4} - \frac{3}{4}\\
	&= O(3^n)
\end{align*}

\label{app:cn-dyn}
\begin{align*}
	\tilde c_n &= \sum_{k=1}^n(n-k+1)O(k)\\
	&= n O(1) + (n-1) O(2) +\cdots + 2 O(n-1) + O(n)\\
	% TODO expand this...
	&= \frac{1}{6}n(n+1)(n+2)
\end{align*}
